# GlycoNutri 项目开发规范

## 开发流程 (Plan Mode)

### Phase 1: 需求分析
- [ ] 收集用户需求
- [ ] 明确功能范围
- [ ] 评估技术可行性
- [ ] 输出: 需求文档 (SPEC.md)

### Phase 2: 设计
- [ ] UI/UX 设计
- [ ] 技术架构设计
- [ ] 数据模型设计
- [ ] API 接口设计
- [ ] 输出: 设计文档

### Phase 3: 开发
- [ ] 代码实现
- [ ] 单元测试
- [ ] 代码审查
- [ ] 输出: 可运行代码

### Phase 4: 测试
- [ ] 功能测试
- [ ] 边界测试
- [ ] 性能测试
- [ ] 输出: 测试报告

### Phase 5: 部署
- [ ] 环境配置
- [ ] 部署上线
- [ ] 输出: 运行服务

---

## v0.7 已完成 ✅

### 真实餐食分析
- [x] 多种食物同时分析
- [x] 食物营养数据库 (50+ 食物)
- [x] 营养结构分析 (碳水/蛋白/脂肪/纤维)
- [x] 升糖效应协同计算 (加权GI, 总GL)
- [x] 进食顺序分析和建议
- [x] 膳食建议生成

---

## v0.8 已完成 ✅

### 餐食营养分析 Web 界面
- [x] 独立标签页 "餐食分析"
- [x] 食物搜索和添加
- [x] 实时营养计算 (碳水/蛋白/脂肪/纤维)
- [x] 升糖效应显示 (加权GI, 总GL)
- [x] 营养结构展示 (比例饼图效果)
- [x] 膳食建议生成
- [x] 历史记录保存

---

## v0.9 开发中: 运动与睡眠血糖分析

### 需求
添加运动、睡眠相关的血糖标记和分析

### 功能列表
- [ ] 运动标记 (类型、强度、时长)
- [ ] 睡眠标记 (入睡时间、醒来时间)
- [ ] 运动前后血糖分析
- [ ] 睡眠血糖分析 (夜间血糖波动)
- [ ] 运动建议生成

### 验收标准
- [ ] 可标记运动事件
- [ ] 可标记睡眠事件
- [ ] 生成运动/睡眠血糖分析报告

### 优先级: P0

### GlycoNutri - 血糖营养计算工具
**阶段**: v0.5 - 开发中

**已完成**:
- ✅ CLI 基础功能
- ✅ CGM 数据分析 (TIR, GV)
- ✅ GI/GL 数据库 (150+ 食物)
- ✅ 餐后血糖分析
- ✅ PK/PD 动力学指标
- ✅ Web 界面
- ✅ 医院格式 CGM 数据支持

**待完成**:
- ⬜ 用户认证
- ⬜ 数据导出 (PDF/CSV)
- ⬜ 图表可视化
- ⬜ 移动端适配
- ⬜ API 完善

---

## 新需求模板

```
## 需求描述
[用户需求]

## 功能列表
- [ ] 功能点1
- [ ] 功能点2

## 验收标准
- [ ] 标准1
- [ ] 标准2

## 优先级
- P0: 必须
- P1: 重要
- P2: 优化
```

---

## Agent 职责

| Agent | 职责 |
|-------|------|
| **Designer** | 需求分析、UI/UX 设计 |
| **Dev** | 代码开发、单元测试 |
| **QA** | 功能测试、Bug 追踪 |
| **PM (我)** | 协调流程、验收结果 |
